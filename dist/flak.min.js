// [AIV]  Flak Build version: 1.0.0  
 !function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("flak",[],t):"object"==typeof exports?exports.flak=t():e.flak=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var s=n[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";e.exports=n(1)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),o=n(3),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.defaultClassOpts={maxListeners:10,asyncDelay:10},this.defaultListenerOpts={maxCalls:0,prepend:!1},this.opts=i.defaults(t,this.defaultClassOpts),this.events={}}return s(e,[{key:"_createEvent",value:function(e,t,n){if(this.events[e]||(this.events[e]=[]),this.opts.maxListeners){var r=this.opts.maxListeners;if(this.events[e].length>=r)throw new Error(o[3]+r)}t.opts=i.defaults(n,this.defaultListenerOpts),t.state={suspended:!1,calls:0},n.prepend?this.events[e].unshift(t):this.events[e].push(t),this._created.call(this,e,t,n)}},{key:"_callEvent",value:function(e,t,n){if(!t.state.suspended)return t.opts.maxCalls&&t.state.calls++>=t.opts.maxCalls?void this.off(e,t):(this._catchAll.call(this,n),t.apply(this,n))}},{key:"_suspendEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=void 0;for(var r in e)n=e[r],this.events[n]&&this.events[n].forEach(function(e){e.state.suspended=t});return this}},{key:"_created",value:function(){}},{key:"_removed",value:function(){}},{key:"_catchAll",value:function(){}},{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!i.is(e,"string"))throw new Error(o[0]);if(e=e.trim(),!e.length)throw new Error(o[4]);if(i.is(t,"array")){for(var r in t)if(t.hasOwnProperty(r)){if(!i.is(t[r],"function"))throw new Error(o[1]);this._createEvent(e,t[r],n)}}else{if(!i.is(t,"function"))throw new Error(o[1]);this._createEvent(e,t,n)}return this}},{key:"once",value:function(e,t){return this.on(e,t,{maxCalls:1})}},{key:"fire",value:function(e){if(this.exists(e)){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var s=0;s<this.events[e].length;s++)this._callEvent(e,this.events[e][s],n)}return this}},{key:"fireTheFirst",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.exists(e))return this._callEvent(e,this.events[e][0],n)}},{key:"fireAsync",value:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];r.unshift(e),setTimeout(function(){t.fire.apply(t,r)},this.opts.asyncDelay)}},{key:"off",value:function(e,t){if(!i.is(e,"string"))throw new Error(o[0]);if(this.events[e])if("function"==typeof t)for(var n=0;n<this.events[e].length;n++)this.events[e][n]===t&&(this.events[e].splice(n,1),this._removed.call(this,e,t));else delete this.events[e],this._removed.call(this,e);return this}},{key:"prependListener",value:function(e,t){return this.on(e,t,{prepend:!0})}},{key:"prependOnceListener",value:function(e,t){return this.on(e,t,{maxCalls:1,prepend:!0})}},{key:"suspendEvent",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._suspendEvent(t,!0)}},{key:"resumeEvent",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._suspendEvent(t,!1)}},{key:"suspendEvents",value:function(){return this._suspendEvent(Object.keys(this.events),!0)}},{key:"resumeEvents",value:function(){return this._suspendEvent(Object.keys(this.events),!1)}},{key:"isSuspended",value:function(e){return!!this.exists(e)&&this.events[e][0].state.suspended}},{key:"clear",value:function(){return this.events=[],this}},{key:"getListenersCount",value:function(e){return this.getListeners(e).length}},{key:"getListeners",value:function(e){if(!i.is(e,"string"))throw new Error(o[0]);if(!this.exists(e))throw new Error(o[5]);return this.events[e]}},{key:"getEvents",value:function(){return this.events}},{key:"exists",value:function(e){if(!i.is(e,"string"))throw new Error(o[0]);return!i.is(this.events[e],"undefined")}},{key:"getMaxListeners",value:function(){return this.opts.maxListeners}},{key:"setMaxListeners",value:function(e){if(!i.is(e,"number"))throw new Error(o[2]);return this.opts.maxListeners=e,this}},{key:"onCatchAll",value:function(e){return this._catchAll=e,this}},{key:"onCreated",value:function(e){return this._created=e,this}},{key:"onRemoved",value:function(e){return this._removed=e,this}}]),e}();e.exports=u,e.exports._error=o},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s={};s.is=function(e,t){return Object.prototype.toString.call(e).toLowerCase()==="[object "+t+"]".toLowerCase()},s.defaults=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.hasOwnProperty(n)?"object"===r(e[n])&&s.defaults(e[n],t[n]):e[n]=t[n]);return e},e.exports=s},function(e,t,n){"use strict";e.exports=["event name is required and must be a string","listener is required and must be a function or an array of function","value must be a number","increase maxListeners per event: ","event name not valid","event not found"]}])}); 